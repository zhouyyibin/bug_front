(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"229e":function(e,t,a){var s=a("b2b7");e.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{t:"1558538974815",class:"icon",style:"",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1429","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M1022.06544 583.40119c0 11.0558-4.034896 20.61962-12.111852 28.696576-8.077979 8.077979-17.639752 12.117992-28.690436 12.117992L838.446445 624.215758c0 72.690556-14.235213 134.320195-42.718941 184.89915l132.615367 133.26312c8.076956 8.065699 12.117992 17.634636 12.117992 28.690436 0 11.050684-4.034896 20.614503-12.117992 28.691459-7.653307 8.065699-17.209964 12.106736-28.690436 12.106736-11.475356 0-21.040199-4.041036-28.690436-12.106736L744.717737 874.15318c-2.124384 2.118244-5.308913 4.88424-9.558703 8.283664-4.259 3.3984-13.180184 9.463536-26.78504 18.171871-13.598716 8.715499-27.415396 16.473183-41.439808 23.276123-14.029528 6.797823-31.462572 12.966313-52.289923 18.49319-20.827351 5.517667-41.446971 8.28571-61.842487 8.28571L552.801776 379.38668l-81.611739 0 0 571.277058c-21.668509 0-43.250036-2.874467-64.707744-8.615215-21.473057-5.734608-39.960107-12.749372-55.476499-21.039175-15.518438-8.289804-29.541827-16.572444-42.077328-24.867364-12.541641-8.290827-21.781072-15.193027-27.739784-20.714787l-9.558703-8.93244L154.95056 998.479767c-8.500605 8.921183-18.699897 13.386892-30.606065 13.386892-10.201339 0-19.335371-3.40454-27.409257-10.202363-8.079002-7.652284-12.437264-17.10968-13.080923-28.372188-0.633427-11.263531 2.659573-21.143553 9.893324-29.647227l128.787178-144.727219c-24.650423-48.464805-36.980239-106.699114-36.980239-174.710091L42.738895 624.207571c-11.057847 0-20.61655-4.041036-28.690436-12.111852-8.079002-8.082072-12.120039-17.640776-12.120039-28.696576 0-11.050684 4.041036-20.61962 12.120039-28.689413 8.073886-8.072863 17.632589-12.107759 28.690436-12.107759l142.81466 0L185.553555 355.156836l-110.302175-110.302175c-8.074909-8.077979-12.113899-17.640776-12.113899-28.691459 0-11.04966 4.044106-20.61962 12.113899-28.690436 8.071839-8.076956 17.638729-12.123109 28.691459-12.123109 11.056823 0 20.612457 4.052293 28.692482 12.123109l110.302175 110.302175 538.128077 0 110.303198-110.302175c8.070816-8.076956 17.632589-12.123109 28.690436-12.123109 11.050684 0 20.617573 4.052293 28.689413 12.123109 8.077979 8.070816 12.119015 17.640776 12.119015 28.690436 0 11.050684-4.041036 20.614503-12.119015 28.691459l-110.302175 110.302175 0 187.448206 142.815683 0c11.0558 0 20.618597 4.034896 28.690436 12.113899 8.076956 8.069793 12.117992 17.638729 12.117992 28.683273l0 0L1022.06544 583.40119 1022.06544 583.40119zM716.021162 216.158085 307.968605 216.158085c0-56.526411 19.871583-104.667851 59.616796-144.414087 39.733956-39.746236 87.88256-59.611679 144.411017-59.611679 56.529481 0 104.678084 19.865443 144.413064 59.611679C696.156742 111.48921 716.021162 159.631674 716.021162 216.158085L716.021162 216.158085 716.021162 216.158085 716.021162 216.158085z","p-id":"1430",fill:"#ffffff"}}]})}},"52c2":function(e,t,a){e.exports=a.p+"assets/project.3e572c64.svg"},"6b01":function(e,t,a){},"768c":function(e,t,a){},"918b":function(e,t,a){"use strict";var s=a("768c"),r=a.n(s);r.a},"9ca3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["user-layout-wrapper",e.device],attrs:{id:"userLayout"}},[s("div",{staticClass:"container"},[e._m(0),s("div",{staticClass:"app-list"},[s("router-link",{staticClass:"app-item",attrs:{to:"/dashboard/workplace"}},[s("img",{attrs:{src:a("c0e3")}}),s("div",[e._v("Bug管理系统")])]),s("a",{staticClass:"app-item",attrs:{href:"javascript:void(0)"}},[s("img",{attrs:{src:a("52c2")}}),s("div",[e._v("项目管理系统(未开放)")])])],1),e._m(1)]),s("ResetPwd",{ref:"resetModal",attrs:{title:"初次登录修改密码",closable:!1,maskClosable:!1,isFirstLogin:e.isFirstLogin},on:{success:e.handleChangePwd}})],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top"},[a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v("选择系统进入")])]),a("div",{staticClass:"desc"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer"},[a("div",{staticClass:"links"},[e._v("\n        深圳市鑫信腾科技有限公司\n      ")]),a("div",{staticClass:"copyright"},[e._v("\n        技术支持：珠海研新信息技术有限公司    服务热线：18825622418\n      ")])])}],i=(a("a481"),a("7f7f"),a("6762"),a("229e")),n=a.n(i),o=a("b0a1"),l=a.n(o),c=a("ac0d"),u=a("c090"),d={name:"ChooseApp",components:{BugSvg:n.a,projectSvg:l.a,ResetPwd:u["a"]},mixins:[c["c"]],data:function(){return{}},computed:{isFirstLogin:function(){return this.$store.state.user.isFirstLogin}},mounted:function(){document.body.classList.add("userLayout"),this.showModal()},beforeDestroy:function(){document.body.classList.remove("userLayout")},methods:{showModal:function(){var e=this,t=["login","register","registerResult"];!t.includes(this.$route.name)&&this.isFirstLogin&&this.$nextTick(function(){e.$refs.resetModal.show()})},handleChangePwd:function(){this.$store.dispatch("Logout"),this.$router.replace("/user/login")}}},p=d,f=(a("918b"),a("2877")),m=Object(f["a"])(p,s,r,!1,null,"9b336af4",null);t["default"]=m.exports},ac2a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-card",{staticClass:"login-box",attrs:{title:"艾鑫集团Bug管理系统"}},[s("a-row",[s("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[s("img",{staticClass:"logo",attrs:{src:a("cf05"),width:"100",alt:"logo"}})]),s("a-col",{attrs:{span:16}},[s("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",form:e.form},on:{submit:e.handleSubmit}},[s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"请输入帐户名或邮箱地址"},{validator:e.handleUsernameOrEmail}],validateTrigger:"change"}],expression:"[\n              'account',\n              {\n                rules: [{ required: true, message: '请输入帐户名或邮箱地址' }, { validator: handleUsernameOrEmail }], validateTrigger: 'change'}\n            ]"}],attrs:{size:"large",type:"text",placeholder:"账户"}},[s("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"blur"}],expression:"[\n              'password',\n              {\n                rules: [{ required: true, message: '请输入密码' }], validateTrigger: 'blur'}\n            ]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"密码"}},[s("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),s("a-form-item"),s("a-form-item",{staticStyle:{"margin-top":"24px"}},[s("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.state.loginBtn,disabled:e.state.loginBtn}},[e._v("确定")])],1)],1)],1)],1)],1)},r=[],i=a("cebc"),n=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("a-modal",{attrs:{centered:"",maskClosable:!1},on:{cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("div",{style:{textAlign:"center"},attrs:{slot:"title"},slot:"title"},[t._v("两步验证")]),s("template",{slot:"footer"},[s("div",{style:{textAlign:"center"}},[s("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("返回")]),s("a-button",{key:"submit",attrs:{type:"primary",loading:t.stepLoading},on:{click:t.handleStepOk}},[t._v("\n        继续\n      ")])],1)]),s("a-spin",{attrs:{spinning:t.stepLoading}},[s("a-form",{attrs:{layout:"vertical","auto-form-create":function(t){e.form=t}}},[s("div",{staticClass:"step-form-wrapper"},[t.stepLoading?s("p",{staticStyle:{"text-align":"center"}},[t._v("正在验证.."),s("br"),t._v("请稍后")]):s("p",{staticStyle:{"text-align":"center"}},[t._v("请在手机中打开 Google Authenticator 或两步验证 APP"),s("br"),t._v("输入 6 位动态码")]),s("a-form-item",{style:{textAlign:"center"},attrs:{hasFeedback:"",fieldDecoratorId:"stepCode",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入 6 位动态码!",pattern:/^\d{6}$/,len:6}]}}},[s("a-input",{style:{textAlign:"center"},attrs:{placeholder:"000000"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleStepOk(e)}}})],1),s("p",{staticStyle:{"text-align":"center"}},[s("a",{on:{click:t.onForgeStepCode}},[t._v("遗失手机?")])])],1)])],1)],2)},o=[],l={props:{visible:{type:Boolean,default:!1}},data:function(){return{stepLoading:!1,form:null}},methods:{handleStepOk:function(){var e=this,t=this;this.stepLoading=!0,this.form.validateFields(function(a,s){if(!a)return console.log("values",s),void setTimeout(function(){t.stepLoading=!1,t.$emit("success",{values:s})},2e3);e.stepLoading=!1,e.$emit("error",{err:a})})},handleCancel:function(){this.visible=!1,this.$emit("cancel")},onForgeStepCode:function(){}}},c=l,u=(a("edd4"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,"4a462ef6",null),p=d.exports,f=a("2f62"),m=a("ca00"),h={components:{TwoStepCaptcha:p},data:function(){return{customActiveKey:"tab1",loginBtn:!1,loginType:0,requiredTwoStepCaptcha:!1,stepCaptchaVisible:!1,form:this.$form.createForm(this),state:{time:60,loginBtn:!1,loginType:0,smsSendBtn:!1}}},methods:Object(i["a"])({},Object(f["b"])(["Login","Logout"]),{handleUsernameOrEmail:function(e,t,a){var s=this.state,r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;r.test(t)?s.loginType=0:s.loginType=1,a()},handleTabClick:function(e){this.customActiveKey=e},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields,s=this.state,r=this.customActiveKey,n=this.Login;s.loginBtn=!0;var o="tab1"===r?["account","password"]:["mobile","captcha"];a(o,{force:!0},function(e,a){if(e)setTimeout(function(){s.loginBtn=!1},600);else{console.log("login form",a);var r=Object(i["a"])({},a);n(r).then(function(e){return t.loginSuccess(e)}).catch(function(e){return t.requestFailed(e)}).finally(function(){s.loginBtn=!1})}})},loginSuccess:function(e){var t=this;this.$router.push({name:"chooseApp"}),setTimeout(function(){t.$notification.success({message:"欢迎",description:"".concat(Object(m["a"])(),"，欢迎回来")})},1e3)},requestFailed:function(e){console.log(e)}})},v=h,g=(a("f8aff"),Object(u["a"])(v,s,r,!1,null,"a8688b64",null));t["default"]=g.exports},b0a1:function(e,t,a){var s=a("b2b7");e.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{t:"1558539131575",class:"icon",style:"",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3675","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M896 896l-45.44-45.12A63.808 63.808 0 0 1 896 832a64 64 0 0 0 64-64V128a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64v5.44c0 17.6-7.04 33.536-18.56 45.12L128 133.44V128A128 128 0 0 1 256 0h640a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128zM64 256v640a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H128a64 64 0 0 0-64 64z m704-128a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H128A128 128 0 0 1 0 896V256a128 128 0 0 1 128-128h640z","p-id":"3676",fill:"#ffffff"}},{tag:"path",attrsMap:{d:"M160 256h384a32 32 0 0 1 0 64H160a32 32 0 0 1 0-64z m576 64a32 32 0 1 1 0-64 32 32 0 0 1 0 64zM64 384h768v64H64v-64z","p-id":"3677",fill:"#ffffff"}}]})}},c090:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",e._b({staticStyle:{top:"60px"},attrs:{title:e.title||"修改密码",width:400,maskClosable:!1,cancelButtonProps:e.cancelButtonProps},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},"a-modal",e.$attrs,!1),[a("a-form",{attrs:{form:e.form,id:"userForm"}},[a("a-form-item",{attrs:{label:"旧密码",hasFeedback:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["oldPassword",{rules:[{required:!0,message:"请输入旧密码"}]}],expression:"[\n          'oldPassword',\n          {rules: [{ required: true, message: '请输入旧密码' }]}\n        ]"}],attrs:{placeholder:"请输入旧密码",type:"password"}})],1),a("a-form-item",{attrs:{label:"新密码",hasFeedback:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入新密码"},{validator:this.handlePasswordCheck}]}],expression:"[\n          'password',\n          {rules: [{ required: true, message: '请输入新密码' }, { validator: this.handlePasswordCheck }]}\n        ]"}],attrs:{placeholder:"请输入新密码",type:"password"}})],1),a("a-form-item",{attrs:{label:"确认密码",hasFeedback:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["repassword",{rules:[{required:!0,message:"请再次输入新密码"},{validator:this.handleRePasswordCheck}]}],expression:"[\n          'repassword',\n          {rules: [{ required: true, message: '请再次输入新密码' }, { validator: this.handleRePasswordCheck }]}\n        ]"}],attrs:{placeholder:"请再次输入新密码",type:"password"}})],1)],1)],1)},r=[],i=(a("3b2b"),a("96cf"),a("3b8d")),n=a("365c"),o={props:{title:String,isFirstLogin:{type:Boolean,default:function(){return!1}}},data:function(){return{form:this.$form.createForm(this),visible:!1,cancelButtonProps:{props:{disabled:this.isFirstLogin}}}},methods:{show:function(){this.visible=!0},close:function(){this.visible=!1},handleOk:function(){var e=this,t=this.form.validateFields;t({force:!0},function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=14;break}return delete s.repassword,t.prev=2,t.next=5,n["default"].user.changePassword(s);case 5:t.sent,e.$message.success("修改成功"),e.$emit("success"),e.close(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e,a){return t.apply(this,arguments)}}())},handlePasswordCheck:function(e,t,a){var s=new RegExp(/^(?=.*[0-9].*)(?=.*[A-Z].*)(?=.*[a-z].*).{6,30}$$/);t&&!s.test(t)&&a(new Error("至少6-30位密码，必须包含大小写字母与数字")),a()},handleRePasswordCheck:function(e,t,a){var s=this.form.getFieldValue("password");t&&s&&t.trim()!==s.trim()&&a(new Error("两次密码不一致")),a()}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);t["a"]=u.exports},c0e3:function(e,t,a){e.exports=a.p+"assets/bug.267b2d2e.svg"},d4ee:function(e,t,a){},edd4:function(e,t,a){"use strict";var s=a("d4ee"),r=a.n(s);r.a},f8aff:function(e,t,a){"use strict";var s=a("6b01"),r=a.n(s);r.a}}]);